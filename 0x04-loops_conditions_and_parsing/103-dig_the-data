#!/usr/bin/env bash
# This script analyzes Apache access logs to group visitor data by IP and HTTP status code,
# formatting the output as OCCURENCE_NUMBER IP HTTP_CODE, sorted from most to least occurrences.

awk '{
    # Create a key with IP and HTTP status code and count each occurrence
    count[$1 " " $9]++
}
END {
    # Output the count and the key in the required format
    for (key in count) {
        print count[key], key
    }
}' apache-access.log | sort -k1,1rn
